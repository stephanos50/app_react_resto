-- phpMyAdmin SQL Dump
-- version 4.9.3
-- https://www.phpmyadmin.net/
--
-- Host: localhost:8889
-- Generation Time: Sep 06, 2021 at 04:54 PM
-- Server version: 5.7.26
-- PHP Version: 7.4.2


--
-- Database: `coeurbleu`
--


-- --------------------------------------------------------

--
-- Table structure for table `addresses`
--

CREATE TABLE addresses (
  id int NOT NULL,
  name varchar(255) NOT NULL,
  number int NOT NULL,
  floor int NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL,
  cityId int DEFAULT NULL,
  userEmail varchar(255) DEFAULT NULL
);

--
-- Dumping data for table `addresses`
--

INSERT INTO addresses (id, name, number, floor, createdAt, updatedAt, cityId, userEmail) VALUES
(1, 'Rue d Anvers', 154, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 1, 'root@exemple.be'),
(2, 'Chaussée de Louvain', 8, 2, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 2, 'stefan@exemple.be'),
(3, 'Rue de la madelaine ', 4, 2, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 3, 'alpha@exemple.be');

-- --------------------------------------------------------

--
-- Table structure for table `allergens`
--

CREATE TABLE allergens (
  id int NOT NULL,
  name varchar(255) NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL
); 

--
-- Dumping data for table `allergens`
--

INSERT INTO allergens (id, name, createdAt, updatedAt) VALUES
(1, 'Gluten', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(2, 'Crustacés', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(3, 'Oeufs', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(4, 'Poissons', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(5, 'Arachides', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(6, 'Soja', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(7, 'Lactose', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(8, 'Celeris', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(9, 'Fruits à coque', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(10, 'Moutarde', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(11, 'Graines grillées', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(12, 'Anhydride sulfureux', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(13, 'Lupin', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(14, 'Mollusques', '2021-09-06 13:18:50', '2021-09-06 13:18:50');

-- --------------------------------------------------------

--
-- Table structure for table `categories`
--

CREATE TABLE categories (
  id int NOT NULL,
  name varchar(255) NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL
);

--
-- Dumping data for table `categories`
--

INSERT INTO categories (id, name, createdAt, updatedAt) VALUES
(1, 'Entrée', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(2, 'Plats', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(3, 'Suggestions', '2021-09-06 13:18:50', '2021-09-06 13:18:50');

-- --------------------------------------------------------

--
-- Table structure for table `cities`
--

CREATE TABLE cities (
  id int NOT NULL,
  name varchar(255) NOT NULL,
  zip int NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL
);

--
-- Dumping data for table `cities`
--

INSERT INTO cities (id, name, zip, createdAt, updatedAt) VALUES
(1, 'Audergem', 1160, '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(2, 'Bruxelles', 1000, '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(3, 'Drogenbos', 1620, '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(4, 'Ixelles', 1050, '2021-09-06 13:18:50', '2021-09-06 13:18:50');

-- --------------------------------------------------------

--
-- Table structure for table `orders`
--

CREATE TABLE orders (
  id int NOT NULL,
  number varchar(255) DEFAULT NULL,
  time varchar(255) DEFAULT NULL,
  createAt varchar(255) DEFAULT NULL,
  total decimal DEFAULT NULL,
  isPaid boolean DEFAULT '0',
  isDelivered boolean DEFAULT '0',
  paymentMethod varchar(255) DEFAULT 'PayPal',
  paidAt TIMESTAMP DEFAULT NULL,
  deliveredAt TIMESTAMP DEFAULT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL,
  addressId int DEFAULT NULL,
  userEmail varchar(255) DEFAULT NULL,
  paymentId int DEFAULT NULL
);

--
-- Dumping data for table `orders`
--

INSERT INTO orders (id, number, time, createAt, total, isPaid, isDelivered, paymentMethod, paidAt, deliveredAt, createdAt, updatedAt, addressId, userEmail, paymentId) VALUES
(1, '2021-09-001-06', '15:18', 'lundi 6 septembre 2021', 47, true, false, 'PayPal', NULL, NULL, '2021-09-06 13:18:51', '2021-09-06 13:18:52', 1, 'stefan@exemple.be', NULL),
(2, '2021-09-002-06', '15:18', 'lundi 6 septembre 2021', 66, true, false, 'PayPal', NULL, NULL, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 1, 'stefan@exemple.be', NULL),
(3, '2021-09-003-06', '15:18', 'lundi 6 septembre 2021', 67, true, false, 'PayPal', NULL, NULL, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 2, 'root@exemple.be', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `payments`
--

CREATE TABLE payments (
  id int NOT NULL,
  status varchar(255) DEFAULT NULL,
  update_time varchar(255) DEFAULT NULL,
  email varchar(255) DEFAULT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL
);

-- --------------------------------------------------------

--
-- Table structure for table `pictures`
--

CREATE TABLE pictures (
  id int NOT NULL,
  path varchar(255) DEFAULT NULL,
  createdAt TIMESTAMP NOT NULL,
  updatedAt TIMESTAMP NOT NULL,
  productId int  DEFAULT NULL
);

--
-- Dumping data for table `pictures`
--

INSERT INTO pictures (id, path, createdAt, updatedAt, productId) VALUES
(1, 'http://localhost:5000/uploads/tarama.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 1),
(2, 'http://localhost:5000/uploads/tzadziki.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 2),
(3, 'http://localhost:5000/uploads/feta.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 3),
(4, 'http://localhost:5000/uploads/gambas.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 4),
(5, 'http://localhost:5000/uploads/calamars.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 5),
(6, 'http://localhost:5000/uploads/meze.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 6),
(7, 'http://localhost:5000/uploads/brochette-agneau.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 7),
(8, 'http://localhost:5000/uploads/entrecote.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 8),
(9, 'http://localhost:5000/uploads/to-eliniko.jpg', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 9);

-- --------------------------------------------------------

--
-- Table structure for table `product0rders`
--

CREATE TABLE product0rders (
   id int NOT NULL,
   quantity int  DEFAULT '0',
   price decimal DEFAULT NULL,
   createdAt datetime NOT NULL,
   updatedAt datetime NOT NULL,
   orderId int  DEFAULT NULL,
   productId int  DEFAULT NULL
);

--
-- Dumping data for table `product0rders`
--

INSERT INTO product0rders (id, quantity, price, createdAt, updatedAt, orderId, productId) VALUES
(1, 2, 15, '2021-09-06 13:18:51', '2021-09-06 13:18:51', 1, 1),
(2, 2, 15, '2021-09-06 13:18:51', '2021-09-06 13:18:51', 1, 2),
(3, 2, 17, '2021-09-06 13:18:51', '2021-09-06 13:18:52', 1, 3),
(4, 1, 7.5, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 2, 5),
(5, 1, 7.5, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 2, 4),
(6, 6, 51, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 2, 1),
(7, 2, 25, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 3, 3),
(8, 2, 25, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 3, 4),
(9, 2, 17, '2021-09-06 13:18:52', '2021-09-06 13:18:52', 3, 5);

-- --------------------------------------------------------

--
-- Table structure for table `products`
--

CREATE TABLE products (
   id int  NOT NULL,
   name varchar(255) NOT NULL,
   description text,
   price float DEFAULT '1',
   rate double DEFAULT '0',
   createdAt datetime NOT NULL,
   updatedAt datetime NOT NULL,
   categoryId int  DEFAULT NULL
);

--
-- Dumping data for table `products`
--

INSERT INTO products  ( id, name, description, price, rate, createdAt, updatedAt, categoryId) VALUES
(1, 'Tarama', 'Le tarama est une spécialité de cuisine grecque à base d oeufs de piossons composée de lait, de jus de citron, d huile d olive et de mie de pain', 7.5, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:51', 1),
(2, 'Tzadziki', 'Le tzadziki est une spécialité de cuisine grecque à base d oeufs de piossons composée de lait, de jus de citron, d huile d olive et de mie de pain', 7.5, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:51', 1),
(3, 'Feta', 'Le tarama est une spécialité de cuisine grecque à base d oeufs de piossons composée de lait, de jus de citron, d huile d olive et de mie de pain', 8, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:51', 1),
(4, 'Gambas grillés', 'Le Gambas grillés  au four est une spécialité de cuisine grecque ', 8.5, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:52', 1),
(5, 'Calamars frits', 'Le feta gratinée  au four est une spécialité de cuisine grecque ', 8.5, 5, '2021-09-06 13:18:50', '2021-09-06 13:18:52', 1),
(6, 'Meze ', 'Le feta gratinée  au four est une spécialité de cuisine grecque ', 8.5, 0, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 1),
(7, 'Brochette d Agneau', 'La Brochette d agneau  au four est une spécialité de cuisine grecque ', 14.5, 0, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 2),
(8, 'Entre côte', 'L Entre Côte gratinée  au four est une spécialité de cuisine grecque ', 15.5, 0, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 2),
(9, 'To Elliniko', 'To elliniko  gratinée  au four est une spécialité de cuisine grecque ', 12.5, 0, '2021-09-06 13:18:50', '2021-09-06 13:18:50', 3);

-- --------------------------------------------------------

--
-- Table structure for table `product_allergen`
--

CREATE TABLE product_allergen (
  createdAt datetime NOT NULL,
  updatedAt datetime NOT NULL,
  allergenId int NOT NULL,
  productId int NOT NULL
);

--
-- Dumping data for table `product_allergen`
--

INSERT INTO product_allergen (createdAt, updatedAt, allergenId, productId) VALUES
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 1, 1),
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 3, 1),
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 4, 1),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 5, 2),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 5, 3),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 5, 4),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 7, 2),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 7, 3),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 7, 4),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 7, 5),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 7, 6),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 8, 2),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 8, 3),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 8, 4),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 8, 5),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 8, 6),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 9, 5),
('2021-09-06 13:18:51', '2021-09-06 13:18:51', 9, 6);

-- --------------------------------------------------------

--
-- Table structure for table `reviews`
--

CREATE TABLE reviews (
  id int NOT NULL,
  name varchar(255) DEFAULT NULL,
   rating int DEFAULT '0',
   comment varchar(255) DEFAULT NULL,
   createdAt datetime NOT NULL,
   updatedAt datetime NOT NULL,
   productId int DEFAULT NULL,
   userEmail varchar(255) DEFAULT NULL
);

--
-- Dumping data for table `reviews`
--

INSERT INTO reviews (id, name, rating, comment, createdAt, updatedAt, productId, userEmail) VALUES
(1, 'stefan', 4, 'this food is delicious', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 1, 'stefan@exemple.be'),
(2, 'stefan', 4, 'this food is delicious', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 2, 'stefan@exemple.be'),
(3, 'stefan', 4, 'this food is delicious', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 3, 'stefan@exemple.be'),
(4, 'stefan', 4, 'this food is delicious', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 4, 'stefan@exemple.be'),
(5, 'alpha', 4, 'this food is good', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 1, 'alpha@exemple.be'),
(6, 'alpha', 4, 'this food is good', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 2, 'alpha@exemple.be'),
(7, 'stefan', 4, 'this food is delicious', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 5, 'stefan@exemple.be'),
(8, 'alpha', 4, 'this food is good', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 3, 'alpha@exemple.be'),
(9, 'alpha', 4, 'this food is good', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 4, 'alpha@exemple.be'),
(10, 'alpha', 4, 'this food is good', '2021-09-06 13:18:51', '2021-09-06 13:18:51', 5, 'alpha@exemple.be');

-- --------------------------------------------------------

--
-- Table structure for table `roles`
--

CREATE TABLE roles (
  id int NOT NULL,
  name varchar(255) DEFAULT NULL,
  createdAt datetime NOT NULL,
  updatedAt datetime NOT NULL
);

--
-- Dumping data for table `roles`
--

INSERT INTO roles (id, name, createdAt, updatedAt) VALUES
(1, 'admin', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
(2, 'client', '2021-09-06 13:18:50', '2021-09-06 13:18:50');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE users (
  email varchar(255) NOT NULL,
  _uuid char(35) DEFAULT NULL,
  first_name varchar(255) NOT NULL,
  last_name varchar(255) NOT NULL,
  isAdmin tinyint(1) DEFAULT '0',
  passwordHash varchar(255) DEFAULT NULL,
  createdAt datetime NOT NULL,
  updatedAt datetime NOT NULL
);

--
-- Dumping data for table `users`
--

INSERT INTO users (email, _uuid, first_name, last_name, isAdmin, passwordHash, createdAt, updatedAt) VALUES
('alpha@exemple.be', 'b9ff11a5-52df-4c84-938d-2e05320b8469', 'alpha', 'alpha', 0, '$2b$10$l1gN14LOJiWde7KrTHrZO.z4xHa6xHDBhvV9IjJYxnOeJ0IEg2lAq', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
('root@exemple.be', 'a394b42e-f691-4cc4-8783-67c1bd84b813', 'root', 'root', 1, '$2b$10$Cspme180Dff0WlP1jUDW5.EqE.eHrKczWXRCbNSY5fWM5ejBtBm/K', '2021-09-06 13:18:50', '2021-09-06 13:18:50'),
('stefan@exemple.be', '3d607c34-d675-4de5-bd24-8db2c413efcc', 'stefan', 'stefan', 0, '$2b$10$iNkamt7I.GyfLIVpmUULr.Uocl4gnvEMBrkw93WV7XQNOOyDeNgf6', '2021-09-06 13:18:50', '2021-09-06 13:18:50');

-- --------------------------------------------------------

--
-- Table structure for table `users_roles`
--

CREATE TABLE users_roles (
  createdAt datetime NOT NULL,
  updatedAt datetime NOT NULL,
  userEmail varchar(255) NOT NULL,
  roleId int  NOT NULL
);

--
-- Dumping data for table `users_roles`
--

INSERT INTO users_roles (createdAt, updatedAt, userEmail, roleId) VALUES
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 'alpha@exemple.be', 2),
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 'root@exemple.be', 1),
('2021-09-06 13:18:50', '2021-09-06 13:18:50', 'stefan@exemple.be', 2);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `addresses`
--
ALTER TABLE addresses
  ADD PRIMARY KEY (id),
  ADD KEY cityId (cityId),
  ADD KEY userEmail (userEmail);

--
-- Indexes for table `allergens`
--
ALTER TABLE allergens
  ADD PRIMARY KEY (id),
  ADD UNIQUE (name);

--
-- Indexes for table `categories`
--
ALTER TABLE categories
  ADD PRIMARY KEY (id),
  ADD UNIQUE (name);

--
-- Indexes for table `cities`
--
ALTER TABLE cities
  ADD PRIMARY KEY (id),
  ADD UNIQUE (name);

--
-- Indexes for table `orders`
--
ALTER TABLE orders
  ADD PRIMARY KEY (id),
  ADD KEY addressId (addressId),
  ADD KEY userEmail (userEmail),
  ADD KEY paymentId (paymentId);

--
-- Indexes for table `payments`
--
ALTER TABLE payments
  ADD PRIMARY KEY (id);

--
-- Indexes for table `pictures`
--
ALTER TABLE pictures
  ADD PRIMARY KEY (id),
  ADD KEY productId (productId);

--
-- Indexes for table `product0rders`
--
ALTER TABLE product0rders
  ADD PRIMARY KEY (id),
  ADD KEY orderId (orderId),
  ADD KEY productId (productId);

--
-- Indexes for table `products`
--
ALTER TABLE products
  ADD PRIMARY KEY (id),
  ADD UNIQUE (name),
  ADD KEY categoryId (categoryId);

--
-- Indexes for table `product_allergen`
--
ALTER TABLE product_allergen
  ADD PRIMARY KEY (allergenId,productId),
  ADD KEY productId (productId);

--
-- Indexes for table `reviews`
--
ALTER TABLE reviews
  ADD PRIMARY KEY (id),
  ADD KEY productId (productId),
  ADD KEY userEmail (userEmail);

--
-- Indexes for table `roles`
--
ALTER TABLE roles
  ADD PRIMARY KEY (id),
  ADD UNIQUE (name);

--
-- Indexes for table `users`
--
ALTER TABLE users
  ADD PRIMARY KEY (email);

--
-- Indexes for table `users_roles`
--
ALTER TABLE users_roles
  ADD PRIMARY KEY (userEmail,roleId),
  ADD KEY roleId (roleId);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `addresses`
--
	ALTER TABLE addresses ADD COLUMN id SERIAL PRIMARY KEY;

--
-- AUTO_INCREMENT for table `allergens`
--
	ALTER TABLE allergens ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `categories`
--
	ALTER TABLE categories ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `cities`
--
	ALTER TABLE cities ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `orders`
--
	ALTER TABLE orders ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `payments`
--
	ALTER TABLE payments ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `pictures`
--
	ALTER TABLE pictures ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `product0rders`
--
	ALTER TABLE product0rders ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `products`
--
	ALTER TABLE products ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `reviews`
--
	ALTER TABLE reviews ADD COLUMN id SERIAL PRIMARY KEY;


--
-- AUTO_INCREMENT for table `roles`
--
	ALTER TABLE roles ADD COLUMN id SERIAL PRIMARY KEY;



--
-- Constraints for dumped tables
--

--
-- Constraints for table `addresses`
--
ALTER TABLE addresses
  ADD CONSTRAINT addresses_ibfk_1 FOREIGN KEY (cityId) REFERENCES cities (id) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT addresses_ibfk_2 FOREIGN KEY (userEmail) REFERENCES users (email) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `orders`
--
ALTER TABLE orders
  ADD CONSTRAINT orders_ibfk_1 FOREIGN KEY (addressId) REFERENCES addresses (id) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT orders_ibfk_2 FOREIGN KEY (userEmail) REFERENCES users (email) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT orders_ibfk_3 FOREIGN KEY (paymentId) REFERENCES payments (id) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `pictures`
--
ALTER TABLE pictures
  ADD CONSTRAINT pictures_ibfk_1 FOREIGN KEY (productId) REFERENCES products (id) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `product0rders`
--
ALTER TABLE product0rders
  ADD CONSTRAINT product0rders_ibfk_1 FOREIGN KEY (orderId) REFERENCES orders (id) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT product0rders_ibfk_2 FOREIGN KEY (productId) REFERENCES products (id) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `products`
--
ALTER TABLE products
  ADD CONSTRAINT products_ibfk_1 FOREIGN KEY (categoryId) REFERENCES categories (id) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `product_allergen`
--
ALTER TABLE product_allergen
  ADD CONSTRAINT product_allergen_ibfk_1 FOREIGN KEY (allergenId) REFERENCES allergens (id) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT product_allergen_ibfk_2 FOREIGN KEY (productId) REFERENCES products (id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `reviews`
--
ALTER TABLE reviews
  ADD CONSTRAINT reviews_ibfk_1 FOREIGN KEY (productId) REFERENCES products (id) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT reviews_ibfk_2 FOREIGN KEY (userEmail) REFERENCES users (email) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `users_roles`
--
ALTER TABLE users_roles
  ADD CONSTRAINT users_roles_ibfk_1 FOREIGN KEY (userEmail) REFERENCES users (email) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT users_roles_ibfk_2 FOREIGN KEY (roleId) REFERENCES roles (id) ON DELETE CASCADE ON UPDATE CASCADE;
